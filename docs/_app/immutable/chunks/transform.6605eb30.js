import{t as T,d as j}from"./index.5fde1e2f.js";import{r as q}from"./scheduler.57f380aa.js";function C(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function D(t,e){T(t,1,1,()=>{e.delete(t.key)})}function E(t,e,l,X,Y,k,r,M,g,S,d,A){let h=t.length,u=k.length,c=h;const p={};for(;c--;)p[t[c].key]=c;const f=[],y=new Map,w=new Map,v=[];for(c=u;c--;){const n=A(Y,k,c),s=l(n);let i=r.get(s);i?X&&v.push(()=>i.p(n,e)):(i=S(s,n),i.c()),y.set(s,f[c]=i),s in p&&w.set(s,Math.abs(c-p[s]))}const x=new Set,N=new Set;function m(n){j(n,1),n.m(M,d),r.set(n.key,n),d=n.first,u--}for(;h&&u;){const n=f[u-1],s=t[h-1],i=n.key,a=s.key;n===s?(d=n.first,h--,u--):y.has(a)?!r.has(i)||x.has(i)?m(n):N.has(a)?h--:w.get(i)>w.get(a)?(N.add(i),m(n)):(x.add(a),h--):(g(s,r),h--)}for(;h--;){const n=t[h];y.has(n.key)||g(n,r)}for(;u;)m(f[u-1]);return q(v),f}function F(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o(t,e,l){this.k=t,this.x=e,this.y=l}o.prototype={constructor:o,scale:function(t){return t===1?this:new o(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new o(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};o.prototype;export{F as d,C as e,D as o,E as u};
