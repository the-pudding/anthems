import{t as I,a as O}from"./index.bfcec5ea.js";import{J as A}from"./scheduler.3ba9b50f.js";function C(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function J(t,e){t.d(1),e.delete(t.key)}function D(t,e){I(t,1,1,()=>{e.delete(t.key)})}function E(t,e){t.f(),J(t,e)}function F(t,e,n,i,p,x,f,_,M,S,y,j){let u=t.length,o=x.length,c=u;const k={};for(;c--;)k[t[c].key]=c;const d=[],w=new Map,g=new Map,v=[];for(c=o;c--;){const s=j(p,x,c),r=n(s);let h=f.get(r);h?i&&v.push(()=>h.p(s,e)):(h=S(r,s),h.c()),w.set(r,d[c]=h),r in k&&g.set(r,Math.abs(c-k[r]))}const N=new Set,X=new Set;function m(s){O(s,1),s.m(_,y),f.set(s.key,s),y=s.first,o--}for(;u&&o;){const s=d[o-1],r=t[u-1],h=s.key,l=r.key;s===r?(y=s.first,u--,o--):w.has(l)?!f.has(h)||N.has(h)?m(s):X.has(l)?u--:g.get(h)>g.get(l)?(X.add(h),m(s)):(N.add(l),u--):(M(r,f),u--)}for(;u--;){const s=t[u];w.has(s.key)||M(s,f)}for(;o;)m(d[o-1]);return A(v),d}function G(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}class H extends Map{constructor(e,n=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,p]of e)this.set(i,p)}get(e){return super.get(Y(this,e))}has(e){return super.has(Y(this,e))}set(e,n){return super.set(P(this,e),n)}delete(e){return super.delete(T(this,e))}}function Y({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function P({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function T({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function a(t,e,n){this.k=t,this.x=e,this.y=n}a.prototype={constructor:a,scale:function(t){return t===1?this:new a(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new a(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};a.prototype;export{H as I,G as d,C as e,E as f,D as o,F as u};
